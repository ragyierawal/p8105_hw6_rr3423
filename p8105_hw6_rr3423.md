p8105\_hw6\_rr3423.Rmd
================
Ragyie Rawal

## PROBLEM 1

### Loading data for regression analysis

``` r
# loading data
birthweight_data = read_csv("data/birthweight.csv")
```

    ## Rows: 4342 Columns: 20

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (20): babysex, bhead, blength, bwt, delwt, fincome, frace, gaweeks, malf...

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

### Checking for missing data by identifying any NA values in columns

``` r
# checking for NA values 
birthweight_data %>% 
  summarise(across(everything(), ~ sum(is.na(.))))
```

    ## # A tibble: 1 × 20
    ##   babysex bhead blength   bwt delwt fincome frace gaweeks malform menarche
    ##     <int> <int>   <int> <int> <int>   <int> <int>   <int>   <int>    <int>
    ## 1       0     0       0     0     0       0     0       0       0        0
    ## # … with 10 more variables: mheight <int>, momage <int>, mrace <int>,
    ## #   parity <int>, pnumlbw <int>, pnumsga <int>, ppbmi <int>, ppwt <int>,
    ## #   smoken <int>, wtgain <int>

There are no NA values, thus no missing data in the birthweight dataset.

### Converting numeric to factor variables for regression analysis

Determining the class of each variable in the birthweight dataset:

``` r
# checking class of each variable
birthweight_data %>% 
  map(class)
```

    ## $babysex
    ## [1] "numeric"
    ## 
    ## $bhead
    ## [1] "numeric"
    ## 
    ## $blength
    ## [1] "numeric"
    ## 
    ## $bwt
    ## [1] "numeric"
    ## 
    ## $delwt
    ## [1] "numeric"
    ## 
    ## $fincome
    ## [1] "numeric"
    ## 
    ## $frace
    ## [1] "numeric"
    ## 
    ## $gaweeks
    ## [1] "numeric"
    ## 
    ## $malform
    ## [1] "numeric"
    ## 
    ## $menarche
    ## [1] "numeric"
    ## 
    ## $mheight
    ## [1] "numeric"
    ## 
    ## $momage
    ## [1] "numeric"
    ## 
    ## $mrace
    ## [1] "numeric"
    ## 
    ## $parity
    ## [1] "numeric"
    ## 
    ## $pnumlbw
    ## [1] "numeric"
    ## 
    ## $pnumsga
    ## [1] "numeric"
    ## 
    ## $ppbmi
    ## [1] "numeric"
    ## 
    ## $ppwt
    ## [1] "numeric"
    ## 
    ## $smoken
    ## [1] "numeric"
    ## 
    ## $wtgain
    ## [1] "numeric"

All of the variables in the birthweight dataset are numeric.

There are four numeric categorical variables in the dataset which should
be converted to factor variables (based on the homework dataset
description): babysex, frace, malform. and mrace.

Checking the distinct categories in each variable:

``` r
birthweight_data %>% 
  distinct(babysex)
```

    ## # A tibble: 2 × 1
    ##   babysex
    ##     <dbl>
    ## 1       2
    ## 2       1

``` r
birthweight_data %>% 
  distinct(frace)
```

    ## # A tibble: 5 × 1
    ##   frace
    ##   <dbl>
    ## 1     1
    ## 2     2
    ## 3     3
    ## 4     4
    ## 5     8

``` r
birthweight_data %>% 
  distinct(malform)
```

    ## # A tibble: 2 × 1
    ##   malform
    ##     <dbl>
    ## 1       0
    ## 2       1

``` r
birthweight_data %>% 
  distinct(mrace)
```

    ## # A tibble: 4 × 1
    ##   mrace
    ##   <dbl>
    ## 1     1
    ## 2     2
    ## 3     3
    ## 4     4

The babysex variable has two distinct categories, which are consistent
with the homework data description. The frace variable only has five
distinct categories, which are not consistent with the homework data
description (category 9 ‘unknown’ is not included in this dataset). The
malform variable has two distinct categories, which are consistent with
the homework data description. The mrace variable only has four distinct
categories, which are not consistent with the homework data description
(category 8 ‘other’ is not included in this dataset).

Converting the numeric variables to factor variables to tidy the data
for regression analysis:

``` r
birthweight_df = 
  birthweight_data %>% 
  janitor::clean_names() %>% 
  mutate(
    babysex = recode(babysex, "1" = "male", "2" = "female"),
    babysex = factor(babysex, levels = c("male", "female")),
    frace = recode(frace, "1" = "White", "2" = "Black", "3" = "Asian",
                   "4" = "Puerto Rican", "8" = "Other"),
    frace = factor(frace, levels = c("White", "Black", "Asian",
                                     "Puerto Rican", "Other")),
    malform = recode(malform, "0" = "absent", "1" = "present"),
    malform = factor(malform, levels = c("absent", "present")),
    mrace = recode(mrace, "1" = "White", "2" = "Black", 
                   "3" = "Asian", "4" = "Puerto Rican"),
    mrace = factor(mrace, levels = c("White", "Black", "Asian", "Puerto Rican"))
  )
```

### Describing the birthweight dataset

``` r
variables_bw = 
  birthweight_df %>% 
  names()

rows_bw = 
  birthweight_df %>% 
  nrow()

columns_bw = 
  birthweight_df %>% 
  ncol()
```

The **key variables** in the birthweight dataset are babysex, bhead,
blength, bwt, delwt, fincome, frace, gaweeks, malform, menarche,
mheight, momage, mrace, parity, pnumlbw, pnumsga, ppbmi, ppwt, smoken,
wtgain. The **number of rows** in the birthweight dataset 4342. The
**number of columns** in the birthweight dataset is 20.

### Proposing a regression model for birthweight

I am hypothesizing that the following variables are factors that underly
birthweight, so birthweight might depend on these factors: family income
(fincome), gestational age in weeks (gaweeks), mother’s age at delivery
in years (momage), mother’s race (mrace), and mother’s weight gain
during pregnancy in pounds (wtgain).

My proposed regression model for birthweight is:

``` r
fit = lm(bwt ~ fincome + gaweeks + momage + mrace + wtgain, data = birthweight_df)
```
